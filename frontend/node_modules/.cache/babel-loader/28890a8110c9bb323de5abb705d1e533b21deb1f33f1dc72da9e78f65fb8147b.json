{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Announcements(){const[announcements,setAnnouncements]=useState([]);const[search,setSearch]=useState('');const[message,setMessage]=useState('');const fetchAnnouncements=async()=>{try{const response=await api.get(`/announcements?search=${search}`);setAnnouncements(response.data);}catch(error){console.error(error);}};useEffect(()=>{fetchAnnouncements();},[search]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800 mb-6 text-center\",children:\"\\u041E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E\",value:search,onChange:e=>setSearch(e.target.value),className:\"w-full border rounded px-4 py-2 focus:outline-none focus:ring focus:border-blue-300\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\",children:announcements.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 mb-2\",children:item.title}),/*#__PURE__*/_jsx(\"img\",{src:JSON.parse(item.image_url)[0],alt:item.title,className:\"w-full h-40 object-cover rounded mb-2\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\u041E\\u0442: \",item.email]}),/*#__PURE__*/_jsx(\"a\",{href:`/announcements/${item.id}`,className:\"text-blue-500 hover:underline\",children:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"})]},item.id))}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-center text-red-500\",children:message})]})});}export default Announcements;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","Announcements","announcements","setAnnouncements","search","setSearch","message","setMessage","fetchAnnouncements","response","get","data","error","console","className","children","type","placeholder","value","onChange","e","target","map","item","title","src","JSON","parse","image_url","alt","email","href","id"],"sources":["C:/Users/Acer/Desktop/Шаблоны/MVP_Project/frontend/src/components/Announcements.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../services/api';\r\n\r\nfunction Announcements() {\r\n  const [announcements, setAnnouncements] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const fetchAnnouncements = async () => {\r\n    try {\r\n      const response = await api.get(`/announcements?search=${search}`);\r\n      setAnnouncements(response.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAnnouncements();\r\n  }, [search]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-6\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <h2 className=\"text-3xl font-bold text-gray-800 mb-6 text-center\">Объявления</h2>\r\n        <div className=\"mb-6\">\r\n          <input \r\n            type=\"text\"\r\n            placeholder=\"Поиск по названию\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            className=\"w-full border rounded px-4 py-2 focus:outline-none focus:ring focus:border-blue-300\"\r\n          />\r\n        </div>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\">\r\n          {announcements.map(item => (\r\n            <div key={item.id} className=\"bg-white rounded-lg shadow p-4\">\r\n              <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">{item.title}</h3>\r\n              <img src={JSON.parse(item.image_url)[0]} alt={item.title} className=\"w-full h-40 object-cover rounded mb-2\" />\r\n              <p className=\"text-sm text-gray-600\">От: {item.email}</p>\r\n              <a href={`/announcements/${item.id}`} className=\"text-blue-500 hover:underline\">Подробнее</a>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {message && <p className=\"mt-4 text-center text-red-500\">{message}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Announcements;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAc,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,GAAG,CAACc,GAAG,CAAC,yBAAyBN,MAAM,EAAE,CAAC,CACjED,gBAAgB,CAACM,QAAQ,CAACE,IAAI,CAAC,CACjC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,CAEDjB,SAAS,CAAC,IAAM,CACda,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,CAACJ,MAAM,CAAC,CAAC,CAEZ,mBACEN,IAAA,QAAKgB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC1Cf,KAAA,QAAKc,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCjB,IAAA,OAAIgB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,8DAAU,CAAI,CAAC,cACjFjB,IAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBjB,IAAA,UACEkB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,8FAAmB,CAC/BC,KAAK,CAAEd,MAAO,CACde,QAAQ,CAAGC,CAAC,EAAKf,SAAS,CAACe,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3CJ,SAAS,CAAC,qFAAqF,CAChG,CAAC,CACC,CAAC,cACNhB,IAAA,QAAKgB,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEb,aAAa,CAACoB,GAAG,CAACC,IAAI,eACrBvB,KAAA,QAAmBc,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC3DjB,IAAA,OAAIgB,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAEQ,IAAI,CAACC,KAAK,CAAK,CAAC,cAC1E1B,IAAA,QAAK2B,GAAG,CAAEC,IAAI,CAACC,KAAK,CAACJ,IAAI,CAACK,SAAS,CAAC,CAAC,CAAC,CAAE,CAACC,GAAG,CAAEN,IAAI,CAACC,KAAM,CAACV,SAAS,CAAC,uCAAuC,CAAE,CAAC,cAC9Gd,KAAA,MAAGc,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,gBAAI,CAACQ,IAAI,CAACO,KAAK,EAAI,CAAC,cACzDhC,IAAA,MAAGiC,IAAI,CAAE,kBAAkBR,IAAI,CAACS,EAAE,EAAG,CAAClB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,wDAAS,CAAG,CAAC,GAJrFQ,IAAI,CAACS,EAKV,CACN,CAAC,CACC,CAAC,CACL1B,OAAO,eAAIR,IAAA,MAAGgB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAET,OAAO,CAAI,CAAC,EACnE,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAL,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}